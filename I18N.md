# Sistema de Internacionalización (i18n)

Este proyecto utiliza el sistema de internacionalización integrado de Astro para soportar múltiples idiomas.

## Idiomas Soportados

- **Inglés (en)** - Idioma predeterminado
- **Español (es)**

## Estructura de Archivos

```
src/
├── i18n/
│   ├── ui.ts          # Todas las traducciones
│   └── utils.ts       # Utilidades para i18n
├── pages/
│   ├── index.astro    # Página en inglés (predeterminado)
│   └── es/
│       └── index.astro # Página en español
└── components/
    └── LanguageSwitcher.astro # Componente para cambiar idioma
```

## Configuración

La configuración de i18n está en `astro.config.mjs`:

```javascript
export default defineConfig({
  i18n: {
    defaultLocale: 'en',
    locales: ['en', 'es'],
    routing: {
      prefixDefaultLocale: false  // URLs en inglés sin prefijo /en
    }
  }
});
```

## Uso en Componentes

Para usar traducciones en cualquier componente `.astro`:

```astro
---
import { getLangFromUrl, useTranslations } from '@i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<h1>{t('hero.title')}</h1>
<p>{t('hero.description')}</p>
```

## Agregar Nuevas Traducciones

1. Abre `src/i18n/ui.ts`
2. Agrega la clave de traducción en inglés y español:

```typescript
export const ui = {
  en: {
    'nuevaClave.titulo': 'New Title',
    'nuevaClave.descripcion': 'New Description',
  },
  es: {
    'nuevaClave.titulo': 'Nuevo Título',
    'nuevaClave.descripcion': 'Nueva Descripción',
  },
} as const;
```

## Crear Páginas en Español

Para crear una nueva página en español:

1. Crea el archivo en `src/pages/es/nombre-pagina.astro`
2. El contenido puede reutilizar componentes existentes
3. Los componentes automáticamente detectarán el idioma de la URL

Ejemplo:
```astro
---
import BaseLayout from '../../layouts/BaseLayout.astro';
import MiComponente from '../../components/MiComponente.astro';
---

<BaseLayout>
  <MiComponente />
</BaseLayout>
```

## URLs

- Inglés (predeterminado): `https://tusitio.com/`
- Español: `https://tusitio.com/es/`
- Inglés: `https://tusitio.com/capabilities`
- Español: `https://tusitio.com/es/capabilities`

## Componente Language Switcher

El componente `LanguageSwitcher.astro` permite a los usuarios cambiar entre idiomas:

- Detecta automáticamente el idioma actual
- Genera URLs alternativas correctamente
- Se muestra en el header de la página

## Mejores Prácticas

1. **Siempre usa claves de traducción**: No escribas texto directamente en los componentes
2. **Organiza las claves lógicamente**: Usa prefijos como `nav.`, `hero.`, `footer.`
3. **Mantén consistencia**: Usa el mismo estilo de nomenclatura para todas las claves
4. **Traduce todo**: Incluye meta tags, alt texts, y aria-labels
5. **Prueba ambos idiomas**: Verifica que todas las traducciones se muestren correctamente

## Funciones Auxiliares

### `getLangFromUrl(url: URL)`
Obtiene el idioma actual desde la URL.

```typescript
const lang = getLangFromUrl(Astro.url);
// Devuelve: 'en' o 'es'
```

### `useTranslations(lang: string)`
Crea una función de traducción para el idioma especificado.

```typescript
const t = useTranslations(lang);
const texto = t('hero.title');
```

### `localizeUrl(path: string)`
Crea una URL localizada según el idioma actual.

```typescript
const url = localizeUrl('/about');
// En inglés: '/about'
// En español: '/es/about'
```

## Extensión Futura

Para agregar más idiomas:

1. Actualiza `astro.config.mjs` con el nuevo locale
2. Agrega las traducciones en `src/i18n/ui.ts`
3. Crea la carpeta correspondiente en `src/pages/`
4. Actualiza `LanguageSwitcher.astro` si es necesario
